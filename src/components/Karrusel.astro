---
import { Image } from "astro:assets";
import vidste_1 from "../assets/images/vidste_1.svg";
import vidste_2 from "../assets/images/vidste_2.svg";
import vidste_3 from "../assets/images/vidste_3.svg";
---

<div class="relative w-full overflow-hidden">
  <div class="carousel flex transition-transform duration-300 ease-in-out" id="carousel">
    <!-- Slide 1 -->
    <div class="carousel-item flex-none w-full flex justify-center items-center p-4">
      <div class="mx-2 md:mx-28 md:grid md:grid-cols-5 bg-moerkeblaa rounded-3xl p-10 md:p-32 h-[600px] md:h-[650px]">
        <Image src={vidste_1} class="mx-auto col-span-2 p-10 md:p-0" alt="Illustration af email udleder CO2" />
        <p class="text-2xl col-span-3 self-center leading-relaxed"><span class="text-4xl font-semibold">Vidste du...</span> at en e-mail udleder i gennemsnit 4 g CO2. Det svarer til det CO2-aftryk, som en tændt pære har i 6 minutter!</p>
      </div>
    </div>

    <!-- Slide 2 -->
    <div class="carousel-item flex-none w-full flex justify-center items-center p-4">
      <div class="mx-2 md:mx-28 grid gap-20 md:grid-cols-5 bg-moerkeblaa rounded-3xl p-10 md:p-32 h-[600px] md:h-[650px]">
        <Image src={vidste_2} class="mx-auto my-auto col-span-2 md:p-0" alt="Illustration af internettet producerer CO2" />
        <p class="text-2xl col-span-3 self-center leading-relaxed"><span class="text-4xl font-semibold">Vidste du...</span> at internettet producerer over 900 millioner tons CO2 hvert år!</p>
      </div>
    </div>

    <!-- Slide 3 -->
    <div class="carousel-item flex-none w-full flex justify-center items-center p-4">
      <div class="mx-2 md:mx-28 grid gap-20 md:grid-cols-5 bg-moerkeblaa rounded-3xl p-10 md:p-32 h-[600px] md:h-[650px]">
        <Image src={vidste_3} class="mx-auto my-auto col-span-2 p-10 md:p-0" alt="Illustration af websider får ingen trafik" />
        <p class="text-2xl col-span-3 self-center leading-relaxed"><span class="text-4xl font-semibold">Vidste du...</span> at 91 % af websider får ingen trafik fra Google.</p>
      </div>
    </div>
  </div>

  <div class="absolute bottom-[450px] right-7 md:bottom-10 md:right-48 transform -translate-y-1/2 flex flex-row items-center gap-2">
    <button class="text-orange rounded-full p-4 text-6xl" id="prev" aria-label="Previous slide"> &#10094; </button>
    <button class="text-orange rounded-full p-4 text-6xl" id="next" aria-label="Next slide"> &#10095; </button>
  </div>

  <script>
    let currentIndex = 0;
    const carousel = document.getElementById("carousel");
    const slides = document.querySelectorAll(".carousel-item");
    const totalSlides = slides.length;

    const updateCarousel = () => {
      const offset = -currentIndex * 100;
      carousel.style.transform = `translateX(${offset}%)`;
    };

    document.getElementById("next").addEventListener("click", () => {
      currentIndex = (currentIndex + 1) % totalSlides;
      updateCarousel();
    });

    document.getElementById("prev").addEventListener("click", () => {
      currentIndex = (currentIndex - 1 + totalSlides) % totalSlides;
      updateCarousel();
    });
  </script>
</div>
